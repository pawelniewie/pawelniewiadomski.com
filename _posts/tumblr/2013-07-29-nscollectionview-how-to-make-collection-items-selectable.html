---
layout: post
title: NSCollectionView - how to make collection items selectable
date: '2013-07-29T18:16:15+02:00'
tags:
- objective-c
- cocoa
- nscollectionview
tumblr_url: http://pawelniewiadomski.pl/post/56790368359/nscollectionview-how-to-make-collection-items-selectable
---
<img src="/tumblr_files/tumblr_mqph73anp41s8nah1o2_1280.jpg"/><br/><img src="/tumblr_files/tumblr_mqph73anp41s8nah1o1_1280.jpg"/><br/><br/><p>So I finally figured out how to easily make collection view items selectable (make them change background when selected). It was so obvious!</p>
<p>What&#8217;s funny it was so obvious it was really hard to find the answer - I googled couple of times and found answers how to make it the complex way.</p>
<p>But just recently found a simple way in one of Apple&#8217;s examples - by default Xcode creates NSView for view that will be used to create collection&#8217;s cells.</p>
<p>What&#8217;s interesting is that NSCollectionViewItem has already isSelected property so it supports selection out of the box. The only trick was to change NSView to NSBox, give it nice background (blue in my case) and bind it&#8217;s transparent property to NSCollectionViewItem&#8217;s isSelected property. Thanks to that you easily get a collection with selectable cells.<span><br/></span></p>
<p>Damn, it&#8217;s so obvious now.</p>
<p>But what if you already created your cell&#8217;s view based on NSView? You can&#8217;t easily switch from NSView to NSBox by changing custom class from NSView to NSBox. Xcode will not update the view&#8217;s available properties.</p>
<p>Sure you could easily add a new view, drag and drop elements, make sure everything is all right, etc.</p>
<p>But there&#8217;s an easier way - because XIBs are XML files you can use your friendly editor and just change it. If you keep IDs intact all bindings will be functional.</p>
<p>You need to place your cell&#8217;s NSView that you created and move it inside NSBox, remove all properties add one new key=&#8221;contentView&#8221; (because NSBox has subviews) and you&#8217;re done!</p>
<p>It&#8217;s so simple to hack XIBs :-)</p>
